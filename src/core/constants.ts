/**
 * 游戏常量
 * 所有游戏相关的常量定义
 */

import { GameConfig } from '../types/index.js';

// 默认游戏配置
export const DEFAULT_CONFIG: GameConfig = {
  tileSize: 20,           // 每个格子的大小（像素）
  fps: 60,                // 目标帧率
  pacmanSpeed: 1.5,      // 吃豆人速度（像素/帧）- 减慢速度
  ghostSpeed: 1.8,        // 幽灵速度（像素/帧）
  frightenedDuration: 6000,  // 能量豆效果持续时间（毫秒）
  scatterDuration: 7000,     // 散开模式持续时间
  chaseDuration: 20000       // 追击模式持续时间
};

// 游戏颜色
export const COLORS = {
  // 游戏元素颜色
  WALL: '#2121DE',           // 墙的颜色（深蓝色）
  DOT: '#FFB8AE',            // 普通豆子颜色（粉色）
  POWER_PELLET: '#FFB8AE',   // 能量豆颜色
  
  // 角色颜色
  PACMAN: '#FFFF00',         // 吃豆人颜色（黄色）
  BLINKY: '#FF0000',         // 红色幽灵
  PINKY: '#FFB8FF',          // 粉色幽灵
  INKY: '#00FFFF',           // 青色幽灵
  CLYDE: '#FFB852',          // 橙色幽灵
  GHOST_FRIGHTENED: '#0000FF', // 被吃模式幽灵颜色（蓝色）
  GHOST_EATEN: 'transparent',  // 被吃掉后的幽灵
  
  // UI颜色
  TEXT: '#FFFFFF',           // 文字颜色
  BACKGROUND: '#000000'      // 背景颜色
} as const;

// 幽灵名称映射
export const GHOST_NAMES: Record<string, string> = {
  BLINKY: 'Blinky',
  PINKY: 'Pinky',
  INKY: 'Inky',
  CLYDE: 'Clyde'
};

// 地图字符映射（用于地图编辑器或关卡加载）
export const MAP_CHARS: Record<string, number> = {
  ' ': 0,  // 空地
  '#': 1,  // 墙
  '.': 2,  // 豆子
  'o': 3,  // 能量豆
  'G': 4   // 幽灵出生点
};

// 标准游戏地图 (28列 x 31行)
// 0=空地, 1=墙, 2=豆子, 3=能量豆, 4=幽灵出生点
export const DEFAULT_MAP = [
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
  [1,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,1],
  [1,3,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,3,1],
  [1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1],
  [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
  [1,2,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,2,1],
  [1,2,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,2,1],
  [1,2,2,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,2,2,1],
  [1,1,1,1,1,1,2,1,1,1,1,1,0,1,1,0,1,1,1,1,1,2,1,1,1,1,1,1],
  [0,0,0,0,0,1,2,1,1,1,1,1,0,1,1,0,1,1,1,1,1,2,1,0,0,0,0,0],
  [0,0,0,0,0,1,2,1,1,0,0,0,0,0,0,0,0,0,0,1,1,2,1,0,0,0,0,0],
  [1,1,1,1,1,1,2,1,1,0,1,1,1,4,4,1,1,1,0,1,1,2,1,1,1,1,1,1],
  [0,0,0,0,0,0,2,0,0,0,1,4,4,4,4,4,4,1,0,0,0,2,0,0,0,0,0,0],
  [1,1,1,1,1,1,2,1,1,0,1,1,1,1,1,1,1,1,0,1,1,2,1,1,1,1,1,1],
  [0,0,0,0,0,1,2,1,1,0,0,0,0,0,0,0,0,0,0,1,1,2,1,0,0,0,0,0],
  [0,0,0,0,0,1,2,1,1,0,1,1,1,1,1,1,1,1,0,1,1,2,1,0,0,0,0,0],
  [1,1,1,1,1,1,2,1,1,0,1,1,1,1,1,1,1,1,0,1,1,2,1,1,1,1,1,1],
  [1,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,1],
  [1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1],
  [1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1],
  [1,3,2,2,1,1,2,2,2,2,2,2,2,0,0,2,2,2,2,2,2,2,1,1,2,2,3,1],
  [1,1,1,2,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,1,1],
  [1,1,1,2,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,1,1],
  [1,2,2,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,2,2,1],
  [1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1],
  [1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1],
  [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
];

// 分数常量
export const SCORES = {
  DOT: 10,           // 吃一个普通豆子的分数
  POWER_PELLET: 50,  // 吃一个能量豆的分数
  GHOST_1: 200,      // 吃掉第一个幽灵的分数
  GHOST_2: 400,      // 吃掉第二个幽灵的分数
  GHOST_3: 800,      // 吃掉第三个幽灵的分数
  GHOST_4: 1600      // 吃掉第四个幽灵的分数
} as const;

// 游戏事件
export const EVENTS = {
  DOT_EATEN: 'dotEaten',
  POWER_PELLET_EATEN: 'powerPelletEaten',
  GHOST_EATEN: 'ghostEaten',
  PACMAN_DEATH: 'pacmanDeath',
  LEVEL_COMPLETE: 'levelComplete',
  GAME_OVER: 'gameOver'
} as const;
